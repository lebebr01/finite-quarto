<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brandon LeBeau">
<meta name="dcterms.date" content="2025-10-07">

<title>Visualizing EuroLeague Basketball Travel Distances with R (My First TidyTuesday!) – Brandon LeBeau</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//images/bl_favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-55373f81aad687d9e5c9f061504c548c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-95bd368a27abdcadd26b2436c52b31a5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-14CK5K9RD6"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-14CK5K9RD6', { 'anonymize_ip': true});
</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="../site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="../site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="../site_libs/leaflet-binding-2.2.3/leaflet.js"></script>
<script src="../site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="../site_libs/leaflet-providers-plugin-2.2.3/leaflet-providers-plugin.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.33/datatables.js"></script>
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Visualizing EuroLeague Basketball Travel Distances with R (My First TidyTuesday!) – Brandon LeBeau">
<meta property="og:description" content="Academic website and blog">
<meta property="og:image" content="https://brandonlebeau.org/posts/2025-10-07-euroleague-tt_files/figure-html/unnamed-chunk-3-1.png">
<meta property="og:site_name" content="Brandon LeBeau">
<meta property="og:image:height" content="960">
<meta property="og:image:width" content="1344">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Brandon LeBeau</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../posts/"> 
<span class="menu-text">Educate-R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../publications/"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../presentations/"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../packages/"> 
<span class="menu-text">R Packages</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../workshops/"> 
<span class="menu-text">Workshops</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about/"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section"></a>
  <ul class="collapse">
  <li><a href="#packages-used" id="toc-packages-used" class="nav-link" data-scroll-target="#packages-used">Packages Used</a></li>
  <li><a href="#static-map-with-madrid-as-reference" id="toc-static-map-with-madrid-as-reference" class="nav-link" data-scroll-target="#static-map-with-madrid-as-reference">Static map with Madrid as reference</a></li>
  <li><a href="#interactive-city-maps" id="toc-interactive-city-maps" class="nav-link" data-scroll-target="#interactive-city-maps">Interactive City Maps</a></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics">Summary Statistics</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Visualizing EuroLeague Basketball Travel Distances with R (My First TidyTuesday!)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">Tidy Tuesday</div>
    <div class="quarto-category">Visualization</div>
  </div>
  </div>



<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Brandon LeBeau </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 7, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="section" class="level1">
<h1></h1>
<p>I’ve always wanted to do TidyTuesday, but never made time to spend on it. I liked to recommend the data to students as a way to explore data or practice creating effective visualizations. Today, I decided to dive in to create something. This week, the data was on <a href="https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-10-07/readme.md">EuroLeague Basketball</a>.</p>
<p>The data had information on the 20 teams, the city and country they are based out of, the size of their stadium, and the number of times they have won the EuroLeague Basketball title. I initially thought about exploring something related to the size of the stadium and the number of times they won the League title, but I was struck by how varied the locations were. This led me to want to visualize how far apart the different teams were.</p>
<p>I’m sure there is a way to do this in R or Python, but I ultimately asked Claude to help me identify the latitude and longitude for each team’s home city (note, some have the same city, so will have the same location). This way I could focus on creating and honing the visualization. I was struck a few years ago by the plane arc visualization that was extremely popular. I had never created a figure like this before, so I set off to create something like this.</p>
<section id="packages-used" class="level2">
<h2 class="anchored" data-anchor-id="packages-used">Packages Used</h2>
<p>Here are the packages used for the following visualizations / interactive features. I first create a static image as a proof of concept, then I converted the static image to appropriate leaflet code (duplicating some processes along the way) to create interactive versions. At the very end, I use DT to create a summary table for each team and their average (and minimum and maximum) distance they need to travel.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(crosstalk)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="static-map-with-madrid-as-reference" class="level2">
<h2 class="anchored" data-anchor-id="static-map-with-madrid-as-reference">Static map with Madrid as reference</h2>
<p>First, I used Madrid as the reference city to visualize how far each city is from Madrid. I picked Madrid as it was on one extreme, the most western city in the group. Madrid has many cities that are closer, but some that would be a long flight.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the dataset with team locations</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>teams <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Team =</span> <span class="fu">c</span>(<span class="st">"Anadolu Efes"</span>, <span class="st">"Barcelona"</span>, <span class="st">"Baskonia"</span>, <span class="st">"Bayern Munich"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Crvena zvezda"</span>, <span class="st">"Dubai Basketball"</span>, <span class="st">"Fenerbahce"</span>, <span class="st">"Hapoel Tel Aviv"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>           <span class="st">"LDLC ASVEL"</span>, <span class="st">"Maccabi Tel Aviv"</span>, <span class="st">"Monaco"</span>, <span class="st">"Olimpia Milano"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Olympiacos"</span>, <span class="st">"Panathinaikos"</span>, <span class="st">"Paris Basketball"</span>, <span class="st">"Partizan"</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Real Madrid"</span>, <span class="st">"Valencia Basket"</span>, <span class="st">"Virtus Bologna"</span>, <span class="st">"Zalgiris"</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">City =</span> <span class="fu">c</span>(<span class="st">"Istanbul"</span>, <span class="st">"Barcelona"</span>, <span class="st">"Vitoria-Gasteiz"</span>, <span class="st">"Munich"</span>, </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Belgrade"</span>, <span class="st">"Dubai"</span>, <span class="st">"Istanbul"</span>, <span class="st">"Tel Aviv"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Villeurbanne"</span>, <span class="st">"Tel Aviv"</span>, <span class="st">"Monaco"</span>, <span class="st">"Milan"</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Piraeus"</span>, <span class="st">"Athens"</span>, <span class="st">"Paris"</span>, <span class="st">"Belgrade"</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Madrid"</span>, <span class="st">"Valencia"</span>, <span class="st">"Bologna"</span>, <span class="st">"Kaunas"</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Country =</span> <span class="fu">c</span>(<span class="st">"Turkey"</span>, <span class="st">"Spain"</span>, <span class="st">"Spain"</span>, <span class="st">"Germany"</span>, </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Serbia"</span>, <span class="st">"UAE"</span>, <span class="st">"Turkey"</span>, <span class="st">"Israel"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>              <span class="st">"France"</span>, <span class="st">"Israel"</span>, <span class="st">"Monaco"</span>, <span class="st">"Italy"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Greece"</span>, <span class="st">"Greece"</span>, <span class="st">"France"</span>, <span class="st">"Serbia"</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Spain"</span>, <span class="st">"Spain"</span>, <span class="st">"Italy"</span>, <span class="st">"Lithuania"</span>),</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Latitude =</span> <span class="fu">c</span>(<span class="fl">41.0082</span>, <span class="fl">41.3851</span>, <span class="fl">42.8467</span>, <span class="fl">48.1351</span>, </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>               <span class="fl">44.7866</span>, <span class="fl">25.2048</span>, <span class="fl">41.0082</span>, <span class="fl">32.0853</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>               <span class="fl">45.7660</span>, <span class="fl">32.0853</span>, <span class="fl">43.7384</span>, <span class="fl">45.4642</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>               <span class="fl">37.9478</span>, <span class="fl">37.9838</span>, <span class="fl">48.8566</span>, <span class="fl">44.7866</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>               <span class="fl">40.4168</span>, <span class="fl">39.4699</span>, <span class="fl">44.4949</span>, <span class="fl">54.8985</span>),</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">Longitude =</span> <span class="fu">c</span>(<span class="fl">28.9784</span>, <span class="fl">2.1734</span>, <span class="sc">-</span><span class="fl">2.6716</span>, <span class="fl">11.5820</span>, </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                <span class="fl">20.4489</span>, <span class="fl">55.2708</span>, <span class="fl">28.9784</span>, <span class="fl">34.7818</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                <span class="fl">4.8795</span>, <span class="fl">34.7818</span>, <span class="fl">7.4246</span>, <span class="fl">9.1900</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>                <span class="fl">23.6473</span>, <span class="fl">23.7275</span>, <span class="fl">2.3522</span>, <span class="fl">20.4489</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>                <span class="sc">-</span><span class="fl">3.7038</span>, <span class="sc">-</span><span class="fl">0.3763</span>, <span class="fl">11.3426</span>, <span class="fl">23.9036</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicate cities for cleaner visualization</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>teams_unique <span class="ot">&lt;-</span> teams <span class="sc">|&gt;</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">|&gt;</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to calculate distance</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>calc_distance <span class="ot">&lt;-</span> <span class="cf">function</span>(lat1, lon1, lat2, lon2) {</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Haversine formula for great circle distance</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  R <span class="ot">&lt;-</span> <span class="dv">6371</span> <span class="co"># Earth's radius in km</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  lat1_rad <span class="ot">&lt;-</span> lat1 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  lat2_rad <span class="ot">&lt;-</span> lat2 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  delta_lat <span class="ot">&lt;-</span> (lat2 <span class="sc">-</span> lat1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  delta_lon <span class="ot">&lt;-</span> (lon2 <span class="sc">-</span> lon1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">sin</span>(delta_lat<span class="sc">/</span><span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">cos</span>(lat1_rad) <span class="sc">*</span> <span class="fu">cos</span>(lat2_rad) <span class="sc">*</span> <span class="fu">sin</span>(delta_lon<span class="sc">/</span><span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  c <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">atan2</span>(<span class="fu">sqrt</span>(a), <span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">-</span>a))</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  R <span class="sc">*</span> c</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Create distance matrix</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>distance_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">from_city =</span> teams_unique<span class="sc">$</span>City,</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">to_city =</span> teams_unique<span class="sc">$</span>City,</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(from_city <span class="sc">!=</span> to_city) <span class="sc">|&gt;</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(teams_unique <span class="sc">|&gt;</span> <span class="fu">select</span>(City, <span class="at">from_lat =</span> Latitude, <span class="at">from_lon =</span> Longitude), </span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"from_city"</span> <span class="ot">=</span> <span class="st">"City"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(teams_unique <span class="sc">|&gt;</span> <span class="fu">select</span>(City, <span class="at">to_lat =</span> Latitude, <span class="at">to_lon =</span> Longitude), </span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"to_city"</span> <span class="ot">=</span> <span class="st">"City"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">distance =</span> <span class="fu">calc_distance</span>(from_lat, from_lon, to_lat, to_lon)) <span class="sc">|&gt;</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(from_city, distance)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to create curved paths between points</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>create_arc <span class="ot">&lt;-</span> <span class="cf">function</span>(lon1, lat1, lon2, lat2, <span class="at">n =</span> <span class="dv">50</span>) {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate great circle path</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  gc <span class="ot">&lt;-</span> <span class="fu">gcIntermediate</span>(<span class="fu">c</span>(lon1, lat1), <span class="fu">c</span>(lon2, lat2), <span class="at">n =</span> n, <span class="at">addStartEnd =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.matrix</span>(gc)) {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(<span class="at">lon =</span> gc[, <span class="dv">1</span>], <span class="at">lat =</span> gc[, <span class="dv">2</span>]))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(<span class="at">lon =</span> <span class="fu">c</span>(lon1, lon2), <span class="at">lat =</span> <span class="fu">c</span>(lat1, lat2)))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create connections between all pairs of cities</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>connections <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>n_cities <span class="ot">&lt;-</span> <span class="fu">nrow</span>(teams_unique)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(n_cities <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> (i <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">:</span>n_cities) {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    arc_data <span class="ot">&lt;-</span> <span class="fu">create_arc</span>(</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>      teams_unique<span class="sc">$</span>Longitude[i], teams_unique<span class="sc">$</span>Latitude[i],</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>      teams_unique<span class="sc">$</span>Longitude[j], teams_unique<span class="sc">$</span>Latitude[j]</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    arc_data<span class="sc">$</span>group <span class="ot">&lt;-</span> idx</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    arc_data<span class="sc">$</span>from <span class="ot">&lt;-</span> teams_unique<span class="sc">$</span>City[i]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    arc_data<span class="sc">$</span>to <span class="ot">&lt;-</span> teams_unique<span class="sc">$</span>City[j]</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate distance</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    distance <span class="ot">&lt;-</span> <span class="fu">distHaversine</span>(</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(teams_unique<span class="sc">$</span>Longitude[i], teams_unique<span class="sc">$</span>Latitude[i]),</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(teams_unique<span class="sc">$</span>Longitude[j], teams_unique<span class="sc">$</span>Latitude[j])</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">/</span> <span class="dv">1000</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    arc_data<span class="sc">$</span>distance <span class="ot">&lt;-</span> distance</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    connections[[idx]] <span class="ot">&lt;-</span> arc_data</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    idx <span class="ot">&lt;-</span> idx <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all connections</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>all_connections <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(connections)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Get world map data</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>world_map <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"world"</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to relevant region</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>europe_map <span class="ot">&lt;-</span> world_map <span class="sc">|&gt;</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(long <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">15</span> <span class="sc">&amp;</span> long <span class="sc">&lt;=</span> <span class="dv">60</span> <span class="sc">&amp;</span> lat <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> lat <span class="sc">&lt;=</span> <span class="dv">65</span>)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative version: Show only connections from one city (e.g., Madrid)</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>reference_city <span class="ot">&lt;-</span> <span class="st">"Madrid"</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>connections_from_madrid <span class="ot">&lt;-</span> all_connections <span class="sc">|&gt;</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(from <span class="sc">==</span> reference_city <span class="sc">|</span> to <span class="sc">==</span> reference_city)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> europe_map, </span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group),</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"gray95"</span>, <span class="at">color =</span> <span class="st">"gray70"</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data =</span> connections_from_madrid,</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> lon, <span class="at">y =</span> lat, <span class="at">group =</span> group, <span class="at">color =</span> distance),</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> teams_unique,</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Longitude, <span class="at">y =</span> Latitude),</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"#2C3E50"</span>, <span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"#3498DB"</span>, <span class="at">stroke =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> teams_unique <span class="sc">|&gt;</span> <span class="fu">filter</span>(City <span class="sc">==</span> reference_city),</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Longitude, <span class="at">y =</span> Latitude),</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">6</span>, <span class="at">color =</span> <span class="st">"#2C3E50"</span>, <span class="at">shape =</span> <span class="dv">21</span>, </span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"#E74C3C"</span>, <span class="at">stroke =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> teams_unique,</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> Longitude, <span class="at">y =</span> Latitude, <span class="at">label =</span> City),</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, </span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#2C3E50"</span>) <span class="sc">+</span></span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">option =</span> <span class="st">"plasma"</span>, <span class="at">name =</span> <span class="st">"Distance</span><span class="sc">\n</span><span class="st">(km)"</span>, </span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>                      <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="fl">1.3</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">58</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">60</span>)) <span class="sc">+</span></span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">sprintf</span>(<span class="st">"Travel Distances from %s"</span>, reference_city),</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Great circle routes to all other EuroLeague cities"</span>,</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Longitude"</span>, <span class="at">y =</span> <span class="st">"Latitude"</span>) <span class="sc">+</span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray80"</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2025-10-07-euroleague-tt_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interactive-city-maps" class="level2">
<h2 class="anchored" data-anchor-id="interactive-city-maps">Interactive City Maps</h2>
<p>Now, I made the figure interactive using Leaflet. I tried using JavaScript to create a drop-down origin city selector (with the help of Claude again), but the leaflet map seemed to not re-render when switched. When I switched cities, the leaflet map would just turn to a grey tile.</p>
<p>Instead, I’ve generated a single interactive version that shows the distances between Paris and all the cities. You can hover over features to see the distance traveled.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> viridisLite<span class="sc">::</span><span class="fu">plasma</span>(<span class="dv">256</span>),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">domain =</span> distance_data<span class="sc">$</span>distance</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>create_city_map <span class="ot">&lt;-</span> <span class="cf">function</span>(city_name) {</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get city coordinates</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  city_coords <span class="ot">&lt;-</span> teams_unique <span class="sc">|&gt;</span> <span class="fu">filter</span>(City <span class="sc">==</span> city_name)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get connections from this city</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  city_connections <span class="ot">&lt;-</span> distance_data <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(from_city <span class="sc">==</span> city_name)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create map</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  map <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) <span class="sc">|&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setView</span>(<span class="at">lng =</span> city_coords<span class="sc">$</span>Longitude, </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">lat =</span> city_coords<span class="sc">$</span>Latitude, </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">zoom =</span> <span class="dv">4</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add curved connections using create_arc</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(city_connections)) {</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create great circle arc</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    arc <span class="ot">&lt;-</span> <span class="fu">create_arc</span>(</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>      city_connections<span class="sc">$</span>from_lon[i],</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      city_connections<span class="sc">$</span>from_lat[i],</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      city_connections<span class="sc">$</span>to_lon[i],</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>      city_connections<span class="sc">$</span>to_lat[i]</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    label_text <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">"%s → %s: %.0f km"</span>,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                         city_connections<span class="sc">$</span>from_city[i],</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                         city_connections<span class="sc">$</span>to_city[i],</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                         city_connections<span class="sc">$</span>distance[i])</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    map <span class="ot">&lt;-</span> map <span class="sc">|&gt;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addPolylines</span>(</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">lng =</span> arc<span class="sc">$</span>lon,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">lat =</span> arc<span class="sc">$</span>lat,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="fu">pal</span>(city_connections<span class="sc">$</span>distance[i]),</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">opacity =</span> <span class="fl">0.6</span>,</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> label_text,</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">labelOptions =</span> <span class="fu">labelOptions</span>(</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="fu">list</span>(<span class="st">"font-weight"</span> <span class="ot">=</span> <span class="st">"normal"</span>, <span class="st">"padding"</span> <span class="ot">=</span> <span class="st">"3px 8px"</span>),</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>          <span class="at">textsize =</span> <span class="st">"12px"</span>,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">direction =</span> <span class="st">"auto"</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">highlightOptions =</span> <span class="fu">highlightOptions</span>(</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>          <span class="at">weight =</span> <span class="dv">4</span>,</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>          <span class="at">opacity =</span> <span class="dv">1</span>,</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>          <span class="at">bringToFront =</span> <span class="cn">TRUE</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add markers</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>  map <span class="ot">&lt;-</span> map <span class="sc">|&gt;</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">addCircleMarkers</span>(</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> teams_unique,</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">lng =</span> <span class="sc">~</span>Longitude,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">lat =</span> <span class="sc">~</span>Latitude,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">radius =</span> <span class="dv">6</span>,</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"#2C3E50"</span>,</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>      <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">ifelse</span>(City <span class="sc">==</span> city_name, <span class="st">"#E74C3C"</span>, <span class="st">"#3498DB"</span>),</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>      <span class="at">fillOpacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>      <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="sc">~</span><span class="fu">paste0</span>(City, <span class="st">", "</span>, Country),</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>      <span class="at">labelOptions =</span> <span class="fu">labelOptions</span>(</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">style =</span> <span class="fu">list</span>(<span class="st">"font-weight"</span> <span class="ot">=</span> <span class="st">"normal"</span>, <span class="st">"padding"</span> <span class="ot">=</span> <span class="st">"3px 8px"</span>),</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">textsize =</span> <span class="st">"12px"</span>,</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>        <span class="at">direction =</span> <span class="st">"auto"</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">addLegend</span>(</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>      <span class="at">position =</span> <span class="st">"bottomright"</span>,</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">pal =</span> pal,</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">values =</span> city_connections<span class="sc">$</span>distance,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Distance (km)"</span>,</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">opacity =</span> <span class="fl">0.7</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(map)</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-e2a8335fddd497fa5099" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e2a8335fddd497fa5099">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.404694159330677,2.457062774449265,2.509306360599183,2.56142543066864,2.61342049520171,2.665292062409361,2.717040638180458,2.768666726092723,2.820170827423675,2.871553441161516,2.922815064016006,2.97395619042928,3.024977312586643,3.075878920427329,3.126661501655216,3.177325541749518,3.227871523975425,3.278299929394723,3.328611236876362,3.378805923106999,3.4288844626015,3.478847327713404,3.528694988645345,3.57842791345945,3.628046568087685,3.677551416342169,3.72694291992546,3.776221538440776,3.825387729402212,3.874441948244892,3.923384648335095,3.972216280980344,4.020937295439444,4.069548138932496,4.118049256650867,4.166441091767113,4.214724085444877,4.26289867684874,4.310965303154029,4.358924399556598,4.406776399282558,4.454521733597972,4.502160831818516,4.549694121319091,4.597122027543405,4.644444974013505,4.691663382339279,4.738777672227921,4.78578826149334,4.832695566065549,4.8795],"lat":[48.8566,48.79655346764556,48.7364831556887,48.6763891710747,48.61627162017688,48.55613060880007,48.49596624218423,48.43577862500788,48.37556786139164,48.31533405490169,48.25507730855317,48.19479772481364,48.13449540560648,48.07417045231423,48.01382296578194,47.95345304632058,47.89306079371023,47.83264630720346,47.77220968552852,47.71175102689264,47.65127042898526,47.59076798898116,47.53024380354369,47.46969796882796,47.40913058048388,47.34854173365939,47.28793152300344,47.22730004266921,47.16664738631702,47.10597364711744,47.0452789177543,46.98456329042771,46.92382685685698,46.86306970828357,46.80229193547413,46.74149362872331,46.68067487785669,46.61983577223368,46.55897640075037,46.49809685184236,46.43719721348758,46.37627757320912,46.31533801807799,46.25437863471591,46.19339950929801,46.13240072755565,46.07138237477902,46.01034453581993,45.94928729509448,45.88821073658561,45.82711494384586,45.766]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#340597","weight":2,"opacity":0.6,"fill":false,"fillColor":"#340597","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Villeurbanne: 393 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.494843197485338,2.637131210506297,2.779064714006156,2.920644391492454,3.061870934882975,3.202745044352969,3.343267428183645,3.48343880261191,3.623259891681382,3.76273142709468,3.901854148066981,4.040628801180869,4.179056140242477,4.317136926138903,4.45487192669694,4.592261916543101,4.72930767696493,4.866009995773642,5.002369667168047,5.138387491599797,5.274064275639929,5.409400831846727,5.54439797863489,5.679056540146012,5.81337734612037,5.947361231770015,6.081009037653187,6.214321609550031,6.347299798339607,6.47994445987822,6.612256454879036,6.744236648793025,6.875885911691166,7.007205118147969,7.138195147126276,7.268856881863372,7.399191209758338,7.529199022260724,7.65888121476048,7.788238686479156,7.917272340362372,8.045983082973553,8.174371824388917,8.302439478093721,8.430186960879736,8.557615192743981,8.684725096788689,8.811517599122492,8.937993628762838,9.064154117539612,9.19],"lat":[48.8566,48.79414896867053,48.73152236859134,48.66872102281366,48.60574575174124,48.54259737311615,48.47927670200503,48.41578455078589,48.35212172913517,48.28828904401551,48.22428729966366,48.16011729757908,48.09577983651279,48.03127571245671,47.96660571863345,47.90177064548644,47.83677128067046,47.77160840904271,47.70628281265407,47.64079527074089,47.5751465597171,47.50933745316675,47.44336872183686,47.37724113363069,47.31095545360133,47.24451244394571,47.17791286399885,47.11115747022858,47.04424701623056,46.97718225272357,46.90996392754524,46.842592785648,46.77506956909546,46.70739501705904,46.63956986581483,46.57159484874099,46.50347069631526,46.43519813611275,46.36677789280417,46.29821068815425,46.22949724102043,46.16063826735189,46.09163448018884,46.02248658966197,45.95319530299239,45.88376132449159,45.8141853555618,45.74446809469654,45.67461023748149,45.6046124765955,45.53447550181189,45.4642]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#47039F","weight":2,"opacity":0.6,"fill":false,"fillColor":"#47039F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Milan: 640 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.535304159722949,2.718356109482055,2.901353759934792,3.084295026445848,3.267177829262495,3.450000093688927,3.632759750259558,3.815454734911198,3.998082989154135,4.180642460242029,4.363131101340632,4.545546871695275,4.727887736797086,4.910151668547938,5.092336645424069,5.274440652638333,5.456461682301104,5.638397733579739,5.820246812856605,6.002006933885655,6.183676117947498,6.365252394002921,6.546733798844903,6.728118377249021,6.909404182122257,7.090589274650191,7.271671724442529,7.452649609676947,7.633521017241256,7.814284042873832,7.9949367913023,8.175477376380456,8.355903921223398,8.536214558340852,8.716407429768683,8.89648068719853,9.076432492105615,9.256261015874641,9.435964439923799,9.615540955826878,9.79498876543342,9.974306080986942,10.1534911252412,10.33254213157445,10.51145734410182,10.69023501778551,10.86887341854317,11.04737082335412,11.22572552036362,11.40393580898503,11.582],"lat":[48.8566,48.8496053107833,48.84232076180544,48.83474651172542,48.82688272539424,48.81872957383778,48.81028723423876,48.80155588991845,48.79253573031744,48.78322695097604,48.77362975351383,48.76374434560897,48.75357094097651,48.74310975934634,48.73236102644063,48.72132497395041,48.71000183951187,48.69839186668191,48.6864953049132,48.67431240952868,48.66184344169548,48.64908866839832,48.63604836241239,48.62272280227564,48.60911227226065,48.59521706234585,48.58103746818633,48.56657379108411,48.55182633795791,48.53679542131243,48.52148135920716,48.50588447522471,48.49000509843867,48.47384356338094,48.45740021000879,48.44067538367128,48.42366943507525,48.40638272025113,48.38881560051794,48.37096844244819,48.35284161783222,48.3344355036422,48.31575048199566,48.29678694011875,48.277545270309,48.25802586989782,48.23822914121256,48.21815549153828,48.19780533307912,48.17717908291937,48.15627716298418,48.1351]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#4A03A1","weight":2,"opacity":0.6,"fill":false,"fillColor":"#4A03A1","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Munich: 684 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.461274783917285,2.569924263131484,2.678151116018515,2.785958004640992,2.893347574803619,3.000322456109929,3.106885262020285,3.213038589911155,3.318785021135538,3.424127121084565,3.529067439250172,3.633608509288832,3.737752849086299,3.841502960823302,3.94486133104217,4.047830430714336,4.15041271530868,4.25261062486068,4.354426584042315,4.455863002232709,4.556922273589465,4.657606777120645,4.757918876757389,4.85786092142711,4.957435245127262,5.056644166999613,5.155489991405044,5.253975007998785,5.352101491806105,5.449871703298411,5.547287888469722,5.644352278913511,5.741067091899857,5.837434530452923,5.933456783428706,6.029136025593036,6.12447441769982,6.219474106569492,6.314137225167655,6.408465892683885,6.502462214610691,6.596128282822604,6.689466175655359,6.782477957985185,6.875165681308159,6.967531383819615,7.05957709049359,7.151304813162284,7.242716550595539,7.333814288580289,7.4246],"lat":[48.8566,48.75852768908898,48.66035284811556,48.56207622872736,48.46369857631649,48.3652206300756,48.26664312305348,48.16796678221007,48.06919232847133,47.97032047678334,47.87135193616624,47.77228740976767,47.67312759491564,47.57387318317123,47.47452486038055,47.37508330672662,47.27554919678053,47.17592319955238,47.07620597854164,46.97639819178728,46.87650049191726,46.77651352619779,46.6764379365821,46.57627435975878,46.47602342719973,46.37568576520776,46.27526199496366,46.17475273257294,46.07415858911224,45.97348017067514,45.8727180784178,45.77187290860405,45.67094525265009,45.56993569716894,45.4688448240143,45.36767321032423,45.26642142856423,45.16509004657009,45.06367962759038,44.96219073032838,44.86062390898384,44.75897971329425,44.65725868857579,44.55546137576386,44.45358831145327,44.35164002793814,44.24961705325126,44.14751991120335,44.04534912142167,43.94310519938853,43.84078865647925,43.7384]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#4B03A1","weight":2,"opacity":0.6,"fill":false,"fillColor":"#4B03A1","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Monaco: 689 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.24255509636084,2.133413508916134,2.024771339988396,1.916624724375154,1.808969829094529,1.701802853131221,1.595120027182961,1.4889176134075,1.383191905170193,1.277939226792213,1.173155933299479,1.068838410172323,0.9649830730959664,0.8615863677118278,0.7586447693697317,0.6561547828810437,0.5541129422727767,0.4525158105427123,0.3513599794155673,0.25064206910024,0.1503587280481761,0.05050663271287643,-0.04891751268940913,-0.1479169764177981,-0.2464949994436445,-0.3446547956861606,-0.4423995522467564,-0.5397324296420717,-0.6366565620356865,-0.7331750574684922,-0.8292909980876859,-0.925007440374402,-1.020327415369928,-1.115253928900527,-1.209789961800818,-1.303938470135728,-1.397702385420985,-1.491084614842155,-1.584088041472201,-1.676715524487562,-1.768969899382743,-1.860853978183399,-1.952370549657933,-2.043522379527555,-2.13431221067485,-2.224742763350812,-2.314816735380352,-2.404536802366289,-2.493905617891797,-2.582925813721329,-2.6716],"lat":[48.8566,48.74102246589576,48.62534139066975,48.50955766766474,48.39367218118359,48.27768580659367,48.1615994104298,48.04541385049615,47.92912997596687,47.81274862748558,47.69627063726364,47.57969682917732,47.46302801886372,47.34626501381577,47.22940861347582,47.11245960932831,46.99541878499133,46.87828691630705,46.761064771431,46.64375311092045,46.52635268782162,46.40886424775589,46.29128852900491,46.17362626259484,46.05587817237943,45.93804497512214,45.82012738057738,45.70212609157063,45.58404180407766,45.46587520730283,45.34762698375638,45.22929780933087,45.11088835337658,44.99239927877616,44.87383124201824,44.75518489327021,44.63646087645013,44.51765982929777,44.39878238344476,44.27982916448393,44.1608007920378,44.04169787982621,43.92252103573319,43.80327086187301,43.68394795465535,43.56455290484984,43.44508629764962,43.32554871273434,43.20594072433222,43.08626290128147,42.96651580709093,42.8467]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#5102A3","weight":2,"opacity":0.6,"fill":false,"fillColor":"#5102A3","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Vitoria-Gasteiz: 773 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.348202436952102,2.34422808375268,2.340276687358578,2.336347998237704,2.33244177030745,2.328557760874398,2.324695730575276,2.320855443319148,2.31703666623079,2.313239169595237,2.309462726803469,2.305707114299206,2.301972111526785,2.298257500880109,2.294563067652609,2.290888599988234,2.287233888833418,2.283598727890009,2.279982913569145,2.276386244946041,2.272808523715673,2.269249554149351,2.265709143052126,2.262187099721058,2.258683235904277,2.255197365760866,2.251729305821508,2.248278874949898,2.244845894304912,2.241430187303489,2.238031579584238,2.234649898971734,2.231284975441496,2.227936641085635,2.224604730079151,2.221289078646861,2.217989525030959,2.214705909459179,2.211438074113553,2.208185863099756,2.204949122417021,2.2017276999286,2.19852144533279,2.195330210134475,2.192153847617203,2.188992212815765,2.185845162489277,2.182712555094756,2.179594250761169,2.176490111263954,2.1734],"lat":[48.8566,48.71010291247624,48.56360568746696,48.41710832647124,48.2706108309673,48.12411320241296,47.97761544224595,47.83111755188428,47.68461953272654,47.53812138615231,47.39162311352241,47.24512471617929,47.09862619544729,46.95212755263298,46.80562878902546,46.65912990589665,46.51263090450156,46.36613178607864,46.21963255184998,46.07313320302163,45.92663374078386,45.78013416631141,45.63363448076375,45.48713468528537,45.34063478100597,45.19413476904074,45.04763465049056,44.90113442644231,44.75463409796901,44.60813366613007,44.46163313197158,44.3151324965264,44.16863176081448,44.02213092584303,43.87562999260668,43.72912896208778,43.5826278352565,43.43612661307103,43.28962529647787,43.14312388641189,42.99662238379655,42.85012078954416,42.70361910455591,42.55711732972218,42.41061546592259,42.26411351402628,42.11761147489198,41.97110934936819,41.82460713829342,41.67810484249619,41.53160246279532,41.3851]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#5502A4","weight":2,"opacity":0.6,"fill":false,"fillColor":"#5502A4","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Barcelona: 831 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.54278669874521,2.73277773191545,2.922174251796642,3.110977439632105,3.299188505036941,3.486808685417295,3.673839245394565,3.860281476234662,4.046136695282368,4.231406245400895,4.416091494416668,4.60019383456943,4.78371468196771,4.966655476049708,5.149017679049649,5.33080277546964,5.512012271557103,5.692647694787781,5.872710593354381,6.05220253566088,6.231125109822496,6.409479923171414,6.587268601768191,6.764492789918955,6.941154149698352,7.117254360478277,7.292795118462385,7.467778136226409,7.642205142264279,7.816077880540032,7.989398110045517,8.162167604363928,8.334388151239096,8.506061552150573,8.677189621894506,8.847774188170243,9.017817091172715,9.187320183190531,9.356285328209783,9.524714401523569,9.692609289347143,9.859971888438759,10.02680410572609,10.19310785793829,10.3588850712436,10.52413768089247,10.68886763086622,10.85307687353116,11.01676736929819,11.17994108628771,11.3426],"lat":[48.8566,48.77818980620939,48.69946636600312,48.62043152325548,48.5410871152096,48.46143497240419,48.3814769186026,48.30121477072452,48.2206503387797,48.13978542580416,48.05862182779869,47.97716133366947,47.895405725171,47.81335677685116,47.73101625599843,47.64838592259128,47.56546752924951,47.48226282118777,47.39877353617105,47.31500140447213,47.23094814883109,47.14661548441654,47.06200511878902,46.97711875186597,46.89195807588882,46.8065247753916,46.72082052717153,46.63484700026125,46.54860585590274,46.46209874752301,46.37532732071133,46.28829321319813,46.20099805483547,46.11344346757912,46.02563106547203,45.93756245462948,45.8492392332255,45.76066299148096,45.67183531165281,45.58275776802492,45.49343192690019,45.40385934659393,45.31404157742864,45.22398016172998,45.13367663382408,45.04313252003595,44.9523493386892,44.86132860010678,44.77007180661304,44.67858045253676,44.58685602421533,44.4949]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#5601A4","weight":2,"opacity":0.6,"fill":false,"fillColor":"#5601A4","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Bologna: 839 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.214866697595702,2.078415424523532,1.942836405506238,1.808119987171595,1.674256636442714,1.541236938944543,1.409051597426703,1.277691430202792,1.147147369606252,1.017410460462901,0.8884718585801982,0.7603228292532909,0.6329547457878898,0.506359088039996,0.3805274409724936,0.2554514932285963,0.1311230357221506,0.007533960244753195,-0.1153237419103373,-0.2374579813075538,-0.3588765717116912,-0.4795872314139471,-0.5995975845414238,-0.7189151623501603,-0.8375474045017818,-0.9555016603238664,-1.07278519005413,-1.189405166068523,-1.30536867409337,-1.420682714401662,-1.535354202993605,-1.649389972761583,-1.76279677463964,-1.875581278737618,-1.987750075460102,-2.099309676610293,-2.210266516478954,-2.320626952918594,-2.430397268402999,-2.539583671072301,-2.648192295763692,-2.756229205027978,-2.863700390132089,-2.970611772047717,-3.07696920242624,-3.182778464560075,-3.288045274330623,-3.392775281142968,-3.496974068847473,-3.600647156648441,-3.7038],"lat":[48.8566,48.69448791129909,48.53221364911335,48.36977916999843,48.20718640236718,48.04443724696316,47.88153357732596,47.71847724024783,47.55527005622232,47.39191381988474,47.22841030044474,47.06476124211103,46.90096836450854,46.73703336308805,46.57295790952834,46.40874365213129,46.24439221620971,46.07990520446822,45.91528419737739,45.75053075354099,45.58564641005678,45.42063268287071,45.25549106712482,45.09022303749892,44.92483004854603,44.75931353502199,44.59367491220895,44.42791557623325,44.26203690437755,44.09604025538728,43.92992696977191,43.76369837010038,43.5973557612918,43.43090043090055,43.26433364939653,43.09765667044032,42.93087073115359,42.76397705238452,42.59697683896869,42.42987127998535,42.26266154900895,42.09534880435655,41.92793418933057,41.76041883245751,41.59280384772231,41.4250903347986,41.25727937927511,41.08937205287777,40.92136941368828,40.75327250635865,40.58508236232206,40.4168]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#6400A7","weight":2,"opacity":0.6,"fill":false,"fillColor":"#6400A7","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Madrid: 1053 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.289389029445703,2.227033627521609,2.165127674016435,2.103665151644519,2.042640143890219,1.982046832905141,1.921879497456715,1.862132510926705,1.802800339358229,1.743877539549983,1.68535875719633,1.62723872507202,1.569512261260283,1.512174267423142,1.455219727112769,1.398643704122778,1.342441340878372,1.286607856864296,1.231138547089569,1.176028780588024,1.121273998953682,1.06686971491004,1.01281151091237,0.9590950377821545,0.9057160133728113,0.8526702212658757,0.7999535094968574,0.7475617893099786,0.6954910339410535,0.6437372774277678,0.5922966134466592,0.5411651941760987,0.4903392291846134,0.4398149843438921,0.3895887807658477,0.3396569937631228,0.2900160518324424,0.2406624356602303,0.1915926771499378,0.1428033584705247,0.09429111112557388,0.04605261504251507,-0.001915402318540448,-0.04961616683684007,-0.09705285858438263,-0.1442286126611233,-0.1911465200124349,-0.2378096282292685,-0.2842209423314288,-0.3303834255343829,-0.3763],"lat":[48.8566,48.6732382689684,48.48984263968941,48.30641357369866,48.12295152462432,47.93945693835653,47.75593025321249,47.57237190009743,47.38878230266155,47.20516187745307,47.02151103406742,46.83783017529285,46.65411969725231,46.47037998954195,46.28661143536628,46.10281441166985,45.91898928926596,45.73513643296209,45.55125620168236,45.36734894858716,45.18341502118971,44.9994547614701,44.81546850598631,44.63145658598297,44.44741932749727,44.26335705146249,44.07927007380918,43.89515870556385,43.71102325294547,43.52686401745974,43.34268129599108,43.15847538089266,42.97424656007425,42.78999511708817,42.60572133121322,42.42142547753672,42.2371078270347,42.05276864665036,41.86840819937068,41.6840267443014,41.49962453674024,41.31520182824858,41.13075886672163,40.9462958964568,40.7618131582209,40.57731088931562,40.39278932364173,40.20824869176181,40.02368922096171,39.83911113531057,39.65451465571968,39.4699]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#6600A7","weight":2,"opacity":0.6,"fill":false,"fillColor":"#6600A7","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Valencia: 1066 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.731498307773631,3.110015221763108,3.487735149117391,3.864642776715136,4.240723074266938,4.615961297198613,4.990342989316299,5.363853985254397,5.736480412707684,6.108208694449141,6.479025550135324,6.848917997901325,7.217873355747609,7.585879242721245,7.952923579894244,8.318994591141907,8.684080803724344,9.048171048674414,9.41125446099559,9.773320479673339,10.13435884750386,10.49435961074403,10.85331311858667,11.21121002246526,11.5680412751924,11.92379812993644,12.27847213904068,12.63205515268968,12.98453931742746,13.33591707453198,13.68618115825094,14.03532459390349,14.38334069585264,14.73022306535329,15.07596558828074,15.4205624327443,15.76400804659123,16.10629715480549,16.44742475680629,16.78738612365133,17.12617679514922,17.46379257688614,17.80022953717122,18.13548400390534,18.46955256137797,18.80243204699655,19.1341195479529,19.46461239783108,19.79390817316093,20.12200468992174,20.4489],"lat":[48.8566,48.80551131336368,48.75318076195326,48.69961321383023,48.64481362690168,48.58878704686835,48.53153860515567,48.47307351683004,48.41339707850167,48.35251466621609,48.29043173333597,48.22715380841498,48.16268649306541,48.09703545982129,48.03020644999857,47.96220527155413,47.89303779694502,47.82270996098972,47.75122775873279,47.67859724331444,47.60482452384655,47.52991576329646,47.45387717637998,47.37671502746488,47.29843562848627,47.21904533687505,47.13855055350063,47.05695772062916,46.97427331989832,46.89050387030984,46.80565592624058,46.71973607547359,46.63275093724951,46.54470716033982,46.45561142114222,46.36547042179951,46.27429088834224,46.1820795688563,46.0888432316757,45.99458866360154,45.89932266814763,45.80305206381318,45.70578368238334,45.60752436725782,45.50828097180818,45.40806035776407,45.30686939362893,45.20471495312519,45.10160391366958,44.99754315487853,44.89253955710403,44.7866]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#8004A8","weight":2,"opacity":0.6,"fill":false,"fillColor":"#8004A8","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Belgrade: 1445 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.717892984087332,3.085836679272589,3.456039674954577,3.828510136735195,4.203255789724248,4.58028390159889,4.959601265429278,5.341214182282937,5.725128443621514,6.11134931350468,6.499881510617064,6.890729190135319,7.283895925453563,7.67938468978671,8.077197837672388,8.477337086393449,8.879803497344332,9.284597457365795,9.691718660073841,10.10116608720998,10.51293799004122,10.92703187083951,11.34344446447147,11.76217172013087,12.18320878324711,12.60654997760441,13.03218878770765,13.46011784143174,13.89032889299258,14.32281280627872,14.75755953858389,15.19455812478114,15.63379666198063,16.0752622947134,16.51894120068458,16.96481857713948,17.41287862788698,17.86310455102478,18.31547852741111,18.76998170992785,19.22659421357995,19.68529510647554,20.14606240173124,20.60887305034637,21.07370293508907,21.54052686543699,22.00931857361346,22.48005071175965,22.95269485028145,23.42722147740835,23.9036],"lat":[48.8566,49.00992894675267,49.16209515903383,49.31308519440213,49.46288551702284,49.61148249986071,49.75886242700871,49.90501149615569,50.04991582119638,50.19356143498613,50.33593429224408,50.47702027260704,50.61680518383711,50.75527476518556,50.89241469091551,51.02821057398577,51.16264796989795,51.29571238070905,51.42738925921113,51.55766401327998,51.68652201039404,51.81394858232476,51.93992902999955,52.0644486285379,52.18749263246109,52.30904628107579,52.42909480403118,52.54762342704944,52.66461737782854,52.78006189211626,52.89394221995408,53.00624363208897,53.11695142655083,53.22605093539284,53.33352753159197,53.43936663610572,53.54355372508159,53.64607433721458,53.74691408124824,53.84605864361366,53.94349379620098,54.03920540425696,54.13317943440213,54.22540196276027,54.31585918319266,54.40453741562886,54.49142311448572,54.57650287716528,54.65976345262234,54.74119174999146,54.82077484726344,54.8985]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#8B0AA5","weight":2,"opacity":0.6,"fill":false,"fillColor":"#8B0AA5","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Kaunas: 1616 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.848426100611149,3.341269805796379,3.830733888654995,4.316822500209271,4.799541121455314,5.278896515648083,5.754896680903879,6.227550803197889,6.696869209828733,7.162863323416464,7.625545616495094,8.084929566755472,8.541029612989334,8.993861111780355,9.443440294983384,9.889784228028539,10.33291076908237,10.77283852909432,11.20958683275263,11.6431756803702,12.0736257107172,12.50095816481416,12.92519485069573,13.34635810915275,13.76447078045711,14.17955617207159,14.59163802734426,15.000740495185,15.40688810071937,15.81010571691337,16.21041853716077,16.60785204882334,17.00243200771232,17.39418441349897,17.78313548604,18.16931164260335,18.55273947597848,18.93344573345448,19.31145729664894,19.6868011621695,20.05950442308972,20.42959425122054,20.79709788015798,21.16204258908774,21.52445568732698,21.88436449958346,22.24179635191238,22.59677855835068,22.94933840820924,23.2995031540031,23.6473],"lat":[48.8566,48.6854320994098,48.51214759814805,48.33677374414186,48.15933765970509,47.97986633085191,47.79838659715336,47.61492514212837,47.42950848415965,47.24216296792429,47.05291475632836,46.86178982293403,46.66881394486758,46.47401269619616,46.27741144176063,46.07903533145179,45.87890929491704,45.67705803668421,45.4735060316893,45.26827752119476,45.06139650908493,44.85288675852516,44.64277178897139,44.43107487351686,44.21781903656273,44.00302705179975,43.78672144048789,43.56892447002151,43.34965815276747,43.12894424516385,42.90680424706761,42.68325940133897,42.4583306936515,42.23203885251653,42.00440434951075,41.77544739969687,41.54518796222658,41.31364574111606,41.08084018618424,40.84679049414438,40.61151560983996,40.37503422761608,40.13736479281786,39.89852550340768,39.65853431169347,39.41740892616033,39.17516681339836,38.93182520011967,38.68740107525783,38.44191119214337,38.19537207074918,37.9478]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#A72197","weight":2,"opacity":0.6,"fill":false,"fillColor":"#A72197","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Piraeus: 2093 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.849995344649523,3.344417268677551,3.835467785341117,4.323150304329404,4.807469584050495,5.288431684103153,5.766043918019268,6.240314806356891,6.711254030218154,7.178872385260896,7.643181736267346,8.10419497232807,8.56192596269416,9.016389513345848,9.467601324320825,9.915577947841044,10.36033674727239,10.80189585694733,11.24027414287669,11.67549116437295,12.10756713660359,12.53652289408994,12.96237985516349,13.38515998738863,13.80488577395808,14.22158018106437,14.6352666262485,15.04596894772436,15.45371137467563,15.85851849851957,16.26041524513063,16.65942684801495,17.05557882242539,17.44889694040525,17.83940720674786,18.22713583585778,18.61210922949863,18.99435395541153,19.37389672678751,19.75076438257645,20.1249838686146,20.49658221955228,20.86558654156308,21.23202399581512,21.59592178268531,21.957307126697,22.31620726216129,22.67264941950231,23.02666081224701,23.37826862465935,23.7275],"lat":[48.8566,48.68644679726388,48.51416351060615,48.33977740494741,48.16331562604053,47.984805189536,47.8042729705916,47.62174569401817,47.43724992495245,47.25081206004722,47.0624583191684,46.87221473758815,46.68010715866249,46.48616122698152,46.29040238198029,46.09285585199724,45.89354664876801,45.69249956234118,45.48973915640301,45.28528976399785,45.07917548363108,44.87142017574104,44.66204745952693,44.4510807101192,44.23854305607949,44.02445737721709,43.80884630270897,43.59173220951074,43.37313722104604,43.15308320616221,42.93159177833991,42.7086842951451,42.48438185791186,42.25870531164462,42.03167524512887,41.80331199123974,41.5736356274378,41.34266597644236,41.11042260707188,40.87692483524261,40.64219172511581,40.40624209038485,40.16909449569345,39.93076725817704,39.69127844911897,39.45064589571398,39.20888718293167,38.96601965547263,38.7220604198106,38.47702634631401,38.23093407144074,37.9838]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#A72197","weight":2,"opacity":0.6,"fill":false,"fillColor":"#A72197","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Athens: 2096 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,2.940871427171763,3.527424534868521,4.1118046914299,4.693959059960726,5.273836615815263,5.851388160920044,6.426566334991909,6.999325623715743,7.569622363953924,8.137414746066193,8.702662813424933,9.265328459216384,9.825375420623393,10.38276927048956,10.93747740656858,11.48946903846561,12.03871517238028,12.58518859376287,13.12886384799683,13.66971721922176,14.20772670741144,14.74287200382163,15.27513446492188,15.80449708492483,16.33094446702518,16.85446279345897,17.37503979449202,17.89266471644398,18.40732828885215,18.9190226908763,19.42774151704299,19.93347974242471,20.43623368734568,20.93600098170301,21.43278052898819,21.92657247009028,22.41737814695855,22.90520006619849,23.39004186267131,23.87190826316349,24.35080505018889,24.82673902598228,25.2997179767397,25.76975063715676,26.23684665531339,26.70101655794884,27.16227171616843,27.62062431161938,28.07608730317019,28.52867439412481,28.9784],"lat":[48.8566,48.76757881299688,48.67557038556475,48.58059525012376,48.48267441245498,48.38182933145338,48.27808189879236,48.1714544185394,48.06196958676075,47.94965047115264,47.83452049073467,47.71660339563977,47.59592324703419,47.47250439719856,47.34637146980049,47.21754934038712,47.08606311712421,46.95193812180753,46.81519987116953,46.67587405850377,46.53398653562716,46.3895632951986,46.24263045341121,46.09321423307345,45.94134094709301,45.78703698237577,45.63032878415046,45.47124284072866,45.30980566870755,45.14604379862234,44.97998376105322,44.81165207319102,44.64107522586403,44.46827967102759,44.29329180971694,44.11613798046265,43.93684444816694,43.75543739343859,43.57194290238285,43.38638695684222,43.19879542508315,43.00919405292333,42.81760845529256,42.6240641082213,42.42858634124884,42.23120033024367,42.03193109062747,41.83080347099445,41.62784214711674,41.42307161632687,41.21651619226768,41.0082]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#B02991","weight":2,"opacity":0.6,"fill":false,"fillColor":"#B02991","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Istanbul: 2256 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,3.159719799869621,3.959984767965906,4.752944913905894,5.538559400521786,6.316796227637778,7.08763190555262,7.851051120460465,8.607046393920356,9.355617738355138,10.09677231042622,10.83052406399321,11.55689340422837,12.27590684431808,12.9875966660459,13.69200058541892,14.38916142436867,15.07912678943318,15.76194875820707,16.43768357423339,17.10639135090365,17.76813578483252,18.42298387907993,19.07100567650733,19.71227400347525,20.3468642240164,20.9748540045531,21.59632308916796,22.21135308538367,22.82002726036036,23.42243034737733,24.01864836242949,24.60876843073751,25.19287862294351,25.77106780074222,26.34342547167816,26.91004165282477,27.47100674304977,28.02641140356203,28.57634644642911,29.12090273075125,29.66017106617591,30.19424212343694,30.72320635160528,31.24715390174052,31.76617455663832,32.28035766637384,32.789792089348,33.29456613855143,33.794767532768,34.29048335244935,34.7818],"lat":[48.8566,48.63171443829389,48.40123449370057,48.16525558421043,47.92387326433238,47.6771830989858,47.42528054378351,47.16826083176466,46.90621886659714,46.63924912223303,46.36744554896742,46.09090148582165,45.80970957914489,45.52396170730487,45.23374891131816,44.93916133125263,44.64028814822003,44.33721753176415,44.0300365924407,43.71883133937688,43.4036866425934,43.08468619986833,42.76191250791963,42.43544683768358,42.10536921346684,41.77175839575256,41.43469186744368,41.09424582333179,40.75049516258382,40.40351348404546,40.05337308416605,39.70014495735639,39.34389879859813,38.98470300813049,38.622624698048,38.25772970064965,37.89008257838858,37.51974663527816,37.14678392961842,36.77125528791393,36.3932203198617,36.01273743429491,35.62986385597493,35.24465564313126,34.85716770565522,34.46745382385959,34.07556666772257,33.68155781654005,33.28547777891576,32.88737601302414,32.48730094708577,32.0853]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#DD5E66","weight":2,"opacity":0.6,"fill":false,"fillColor":"#DD5E66","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Tel Aviv: 3278 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addPolylines","args":[[[[{"lng":[2.3522,3.73122009968644,5.100354724672434,6.458869827793916,7.806079430582782,9.141347189819026,10.46408749089312,11.77376608438212,13.06990028849656,14.35205878528216,15.61986104262086,16.87297639716868,18.11112283542869,19.3340655112502,20.5416150382573,21.7336255951437,22.90999288054009,24.07065195238171,25.21557498449344,26.34476897058063,27.45827340306658,28.5561579513496,29.63852016114124,30.70548319366624,31.75719362070766,32.7938192888157,33.81554726349828,34.82258186190006,35.81514278037008,36.79346332142327,37.7577887229198,38.70837459081332,39.64548543554911,40.56939331111125,41.48037655481539,42.37871862520242,43.26470703479464,44.13863237401591,45.00078742223213,45.85146634162751,46.69096394947867,47.51957506431187,48.33759392141482,49.14531365321498,49.94302583011924,50.73102005752821,51.50958362488399,52.27900120277655,53.03955458431496,53.79152246716148,54.53518027282366,55.2708],"lat":[48.8566,48.683586070871,48.49422982256061,48.28876088861027,48.06742380710397,47.83047673541795,47.5781901426224,47.31084549320725,47.02873393498376,46.73215500302296,46.42141535036948,46.09682751505584,45.75870873167528,45.4073797944836,45.04316397772655,44.66638601765311,44.27737115949968,43.87644427163453,43.4639290280458,43.04014715945275,42.60541777251909,42.16005673595527,41.70437613170794,41.23868376894887,40.76328275818481,40.27847114250894,39.78454158279378,39.28178109347873,38.77047082552217,38.25088589306146,37.72329524034411,37.18796154555503,36.6451411582568,36.09508406727995,35.53803389603887,34.97422792240335,34.40389712041973,33.8272662213455,33.24455379163495,32.65597232568555,32.06172835132588,31.46202254619175,30.85704986329799,30.24699966426711,29.63205585882178,29.01239704928697,28.38819667897607,27.75962318345715,27.12684014380748,26.49000644106874,25.84927641121076,25.2048]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#FAD924","weight":2,"opacity":0.6,"fill":false,"fillColor":"#FAD924","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Paris → Dubai: 5247 km",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"weight":4,"opacity":1,"bringToFront":true}]},{"method":"addCircleMarkers","args":[[37.9838,41.3851,44.7866,44.4949,25.2048,41.0082,54.8985,40.4168,45.4642,43.7384,48.1351,48.8566,37.9478,32.0853,39.4699,45.766,42.8467],[23.7275,2.1734,20.4489,11.3426,55.2708,28.9784,23.9036,-3.7038,9.19,7.4246,11.582,2.3522,23.6473,34.7818,-0.3763,4.8795,-2.6716],6,null,null,{"interactive":true,"className":"","stroke":true,"color":"#2C3E50","weight":2,"opacity":0.5,"fill":true,"fillColor":["#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB","#E74C3C","#3498DB","#3498DB","#3498DB","#3498DB","#3498DB"],"fillOpacity":0.8},null,null,null,null,["Athens, Greece","Barcelona, Spain","Belgrade, Serbia","Bologna, Italy","Dubai, UAE","Istanbul, Turkey","Kaunas, Lithuania","Madrid, Spain","Milan, Italy","Monaco, Monaco","Munich, Germany","Paris, France","Piraeus, Greece","Tel Aviv, Israel","Valencia, Spain","Villeurbanne, France","Vitoria-Gasteiz, Spain"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#340597 , #3C049B 2.20669513449219%, #6100A7 12.5078340013996%, #8305A7 22.8089728683069%, #A21D9A 33.1101117352143%, #BD3686 43.4112506021217%, #D24F71 53.7123894690291%, #E56A5D 64.0135283359364%, #F3854B 74.3146672028438%, #FCA537 84.6158060697512%, #FDC727 94.9169449366586%, #FAD924 "],"labels":["500","1,000","1,500","2,000","2,500","3,000","3,500","4,000","4,500","5,000"],"na_color":null,"na_label":"NA","opacity":0.7,"position":"bottomright","type":"numeric","title":"Distance (km)","extra":{"p_1":0.02206695134492194,"p_n":0.9491694493665855},"layerId":null,"className":"info legend","group":null}]}],"setView":[[48.8566,2.3522],4,[]],"limits":{"lat":[25.2048,54.8985],"lng":[-3.7038,55.2708]}},"evals":[],"jsHooks":[]}</script>
</section>
<section id="summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h2>
<p>I finally present some descriptive statistics on the average, median, minimum, and maximum distances that teams have to travel. Some of them are very close, but others have significant amounts of travel to contend with. Travel to play games is not only costly, but could make recovery more difficult for the players.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Average distance by city</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>avg_by_city <span class="ot">&lt;-</span> distance_data <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from_city) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Average Distance (km)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(distance),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Median Distance (km)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">median</span>(distance),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Max Distance (km)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">max</span>(distance),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Min Distance (km)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">min</span>(distance)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Average Distance (km)</span><span class="st">`</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"City"</span> <span class="ot">=</span> from_city) <span class="sc">|&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">select</span>(teams, City, Team, Country), <span class="at">by =</span> <span class="fu">join_by</span>(City)) <span class="sc">|&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(City, Country, Team, <span class="fu">everything</span>())</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>avg_by_city <span class="sc">|&gt;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">20</span>, <span class="at">dom =</span> <span class="st">'tip'</span>),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Descriptive Statistics for each City"</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">formatRound</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">0</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4e572756dea4f6e6c342" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4e572756dea4f6e6c342">{"x":{"filter":"none","vertical":false,"caption":"<caption>Descriptive Statistics for each City<\/caption>","data":[["Dubai","Tel Aviv","Tel Aviv","Kaunas","Madrid","Istanbul","Istanbul","Vitoria-Gasteiz","Valencia","Athens","Piraeus","Paris","Barcelona","Belgrade","Belgrade","Villeurbanne","Munich","Monaco","Milan","Bologna"],["UAE","Israel","Israel","Lithuania","Spain","Turkey","Turkey","Spain","Spain","Greece","Greece","France","Spain","Serbia","Serbia","France","Germany","Monaco","Italy","Italy"],["Dubai Basketball","Hapoel Tel Aviv","Maccabi Tel Aviv","Zalgiris","Real Madrid","Anadolu Efes","Fenerbahce","Baskonia","Valencia Basket","Panathinaikos","Olympiacos","Paris Basketball","Barcelona","Crvena zvezda","Partizan","LDLC ASVEL","Bayern Munich","Monaco","Olimpia Milano","Virtus Bologna"],[4385.63424327,2516.630015360059,2516.630015360059,2003.122561534658,1832.823925726651,1782.309960403288,1782.309960403288,1702.017950366917,1675.515899809603,1623.223447616042,1622.243196230909,1562.442156950107,1477.175447057998,1410.597450075414,1410.597450075414,1345.11889353419,1339.847245174889,1268.267145212309,1247.962409227436,1237.939881734575],[4616.335009098451,2664.7942093772,2664.7942093772,1797.486664692739,1398.737813821273,1732.006769140043,1732.006769140043,1197.425828310555,1236.783703084287,1643.774781658349,1640.032238956768,1059.451482845193,942.7238929153095,1186.076573051959,1186.076573051959,868.2752471770953,1194.177235739169,905.7648062143026,1008.611678544577,1128.578932840478],[5655.913293939187,3542.95625324266,3542.95625324266,4177.200314599208,5655.913293939187,2994.401893910485,2994.401893910485,5568.814040824846,5374.059486500389,3286.656513042654,3292.28253194538,5246.722965732986,5163.489664143033,3801.823787990939,3801.823787990939,5000.020905790653,4568.02640211855,4764.619871804775,4664.643616078351,4475.111239919997],[2136.361363978566,1118.777535945323,1118.777535945323,1133.989896956734,283.4775974829442,562.0473385031697,562.0473385031697,283.4775974829442,302.5575261791741,8.090353464081431,8.090353464081431,392.8907199969292,303.1711107603242,720.8257283745126,720.8257283745126,301.9987626799327,348.3188141690538,237.3916993840232,200.6962929151698,200.6962929151698]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>City<\/th>\n      <th>Country<\/th>\n      <th>Team<\/th>\n      <th>Average Distance (km)<\/th>\n      <th>Median Distance (km)<\/th>\n      <th>Max Distance (km)<\/th>\n      <th>Min Distance (km)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"tip","columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,4,5,6]},{"name":"City","targets":0},{"name":"Country","targets":1},{"name":"Team","targets":2},{"name":"Average Distance (km)","targets":3},{"name":"Median Distance (km)","targets":4},{"name":"Max Distance (km)","targets":5},{"name":"Min Distance (km)","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>It’d be fun to do this for different sport leagues as well as a comparison. Pulling in the schedule to know when teams switch between locations would be an interesting addition to explore cumulative travel over the course of the season would be another fun addition.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/brandonlebeau\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<div class="social-links">
<p><a href="mailto:brandon-lebeau@uiowa.edu" title="Email"> <i class="fa fa-envelope fa-lg"></i> </a> <a href="https://twitter.com/blebeau11" title="Twitter"> <i class="fa-brands fa-linkedin fa-lg"></i> </a> <a href="https://github.com/lebebr01" title="GitHub"> <i class="fa-brands fa-github fa-lg"></i> </a></p>
</div>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Brandon LeBeau</p>
</div>
  </div>
</footer>




</body></html>